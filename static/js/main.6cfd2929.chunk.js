(this["webpackJsonpship-navigation-lights-demo"]=this["webpackJsonpship-navigation-lights-demo"]||[]).push([[0],{100:function(e,n){},116:function(e,n,t){"use strict";t.r(n);var a,i=t(20),r=t(2),o=t.n(r),c=t(48),l=t.n(c),s=t(21),d=t(28),b=function(e){e&&e instanceof Function&&t.e(3).then(t.bind(null,126)).then((function(n){var t=n.getCLS,a=n.getFID,i=n.getFCP,r=n.getLCP,o=n.getTTFB;t(e),a(e),i(e),r(e),o(e)}))},m=(t(99),t(24)),g=t(47),u=t(30),j=t(73),p=t(49),f=t(43),h=t(12),v=t(80);!function(e){e.loadScene="scenes/LOAD",e.updateParams="scenes/UPDATE_PARAMS",e.updateLightSet="scenes/UPDATE_LIGHT_SET"}(a||(a={}));var x={params:{isNight:!0,angle:Math.PI/3,cameraHeight:5,distance:200,backgroundEnabled:!0,freeCameraEnabled:!0}},O=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:x,n=arguments.length>1?arguments[1]:void 0;switch(n.type){case a.loadScene:return Object(h.a)(Object(h.a)({},x),{},{sceneDesc:Object(h.a)({},n.scene)});case a.updateParams:return Object(v.a)(e,(function(e){Object.assign(e.params,n.params)}));default:return e}},w=function(e){return Object(p.withReduxStateSync)(Object(g.b)({router:Object(f.b)(e),currentScene:O}))},y=["router"],S=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||g.c,k={whitelist:[a.updateParams],prepareState:function(e){e.router;return Object(m.a)(e,y)}},_=Object(u.a)({basename:"/ship-navigation-lights-tool"}),D=Object(g.d)(w(_),S(Object(g.a)(Object(j.a)(_),Object(p.createStateSyncMiddleware)(k))));Object(p.initStateWithPrevTab)(D);var A=D,E=t(18),V=t(23),C=t(51),T=t.p+"static/media/icon.1277d057.jpg",N=t(16),P=t(1),z=t(118),M=t(8),L=function(e){var n,t,a=e.sceneFilePath,i=e.shipObjectName,o=void 0===i?"Statek":i,c=e.waterObjectName,l=void 0===c?"Woda":c,s=Object(N.e)((function(e){return e.camera})),d=Object(N.d)(z.a,a),b=null!==(n=null===(t=d.scene.getObjectByName(o))||void 0===t?void 0:t.position)&&void 0!==n?n:d.scene.position;return Object(r.useEffect)((function(){var e=d.scene.getObjectByName(l);e instanceof P.Mesh&&(e.material.side=P.DoubleSide),s.lookAt(b)}),[s,b,d,o,l]),Object(M.jsx)("primitive",{name:"Loaded scene",object:d.scene})},R=t.p+"static/media/carg_ship_in_route.0af59b4f.glb",F={name:"Statek o d\u0142ugo\u015bci powy\u017cej 50m o nap\u0119dzie mechanicznym w drodze",id:"over-50m-in-route",iconPath:T,component:function(){return Object(M.jsx)(L,{sceneFilePath:R})},lightsDescriptor:{angleLimitedLights:{Burtowe_lewe:{angleRelativeTo:"Statek",minVisibilityAngleDeg:-5,maxVisibilityAngleDeg:112.5},Burtowe_prawe:{angleRelativeTo:"Statek",minVisibilityAngleDeg:-112.5,maxVisibilityAngleDeg:5},Masztowe_rufa:{angleRelativeTo:"Statek",minVisibilityAngleDeg:-112.5,maxVisibilityAngleDeg:112.5},Rufowe:{angleRelativeTo:"Statek",minVisibilityAngleDeg:112.5,maxVisibilityAngleDeg:-112.5}}}},I=t.p+"static/media/limited_manouverability_moving_icon.08d67711.jpg",W=t.p+"static/media/carg_ship_limited_manouverability_moving.aa0e76a4.glb",B={name:"Statek o ograniczonej zdolno\u015bci manewrowej, gdy posuwa si\u0119 po wodzie",id:"limited-manouverability-moving",iconPath:I,component:function(){return Object(M.jsx)(L,{sceneFilePath:W})},lightsDescriptor:{angleLimitedLights:{Burtowe_lewe:{angleRelativeTo:"Statek",minVisibilityAngleDeg:-5,maxVisibilityAngleDeg:112.5},Burtowe_prawe:{angleRelativeTo:"Statek",minVisibilityAngleDeg:-112.5,maxVisibilityAngleDeg:5},Masztowe_rufa:{angleRelativeTo:"Statek",minVisibilityAngleDeg:-112.5,maxVisibilityAngleDeg:112.5},Rufowe:{angleRelativeTo:"Statek",minVisibilityAngleDeg:112.5,maxVisibilityAngleDeg:-112.5}}}},H=t.p+"static/media/limited_manouverability_not_moving_icon.2d9e2d4c.jpg",U=t.p+"static/media/carg_ship_limited_manouverability_stationary.a54e5b88.glb",Z={name:"Statek o ograniczonej zdolno\u015bci manewrowej, gdy nie posuwa si\u0119 po wodzie",id:"limited-manouverability-stationary",iconPath:H,component:function(){return Object(M.jsx)(L,{sceneFilePath:U})},lightsDescriptor:{angleLimitedLights:{}}},G=t.p+"static/media/not_responsible_moving_icon.133d2395.jpg",X=t.p+"static/media/carg_ship_not_responsible_moving.db6017f9.glb",Y={name:"Statek nie odpowiadaj\u0105cy za swoje ruchy gdy, posuwa si\u0119 po wodzie",id:"not-responsible-moving",iconPath:G,component:function(){return Object(M.jsx)(L,{sceneFilePath:X})},lightsDescriptor:{angleLimitedLights:{Burtowe_lewe:{angleRelativeTo:"Statek",minVisibilityAngleDeg:-5,maxVisibilityAngleDeg:112.5},Burtowe_prawe:{angleRelativeTo:"Statek",minVisibilityAngleDeg:-112.5,maxVisibilityAngleDeg:5},Masztowe_rufa:{angleRelativeTo:"Statek",minVisibilityAngleDeg:-112.5,maxVisibilityAngleDeg:112.5},Rufowe:{angleRelativeTo:"Statek",minVisibilityAngleDeg:112.5,maxVisibilityAngleDeg:-112.5}}}},J=t.p+"static/media/not_responsible_not_moving_icon.73e63082.jpg",K=t.p+"static/media/carg_ship_not_responsible_stationary.b0d98260.glb",q={name:"Statek nie odpowiadaj\u0105cy za swoje ruchy, gdy nie posuwa si\u0119 po wodzie",id:"not-responsible-stationary",iconPath:J,component:function(){return Object(M.jsx)(L,{sceneFilePath:K})},lightsDescriptor:{angleLimitedLights:{}}},Q=t.p+"static/media/icon.4590771f.jpg",$=t.p+"static/media/sailboat_motor.d7568de3.glb",ee={name:"Statek o d\u0142ugo\u015bci powy\u017cej 12m o nap\u0119dzie mechanicznym w drodze",id:"over-12m-motor-in-route",iconPath:Q,component:function(){return Object(M.jsx)(L,{sceneFilePath:$})},lightsDescriptor:{angleLimitedLights:{Burtowe_lewe:{angleRelativeTo:"Statek",minVisibilityAngleDeg:-5,maxVisibilityAngleDeg:112.5},Burtowe_prawe:{angleRelativeTo:"Statek",minVisibilityAngleDeg:-112.5,maxVisibilityAngleDeg:5},Topowe:{angleRelativeTo:"Statek",minVisibilityAngleDeg:-112.5,maxVisibilityAngleDeg:112.5},Rufowe:{angleRelativeTo:"Statek",minVisibilityAngleDeg:112.5,maxVisibilityAngleDeg:-112.5}}}},ne=new Map([[F.id,F],[B.id,B],[Z.id,Z],[Y.id,Y],[q.id,q],[ee.id,ee]]),te=function(e){return{type:a.loadScene,scene:e}},ae=function(e){return{type:a.updateParams,params:e}},ie=t(123),re=t(124),oe=t(125),ce=t(69),le=t(85),se=t.n(le),de=t.p+"static/media/px.c9ee0dc7.png",be=t.p+"static/media/nx.c204bfbe.png",me=t.p+"static/media/py.c909086d.png",ge=t.p+"static/media/ny.4228c3c0.png",ue=t.p+"static/media/pz.01db6483.png",je=t.p+"static/media/nz.3e12838a.png",pe=function(e){return e.currentScene.params},fe=function(e){return e.currentScene.sceneDesc},he=t.p+"static/media/waternormals.537ec85b.jpg",ve=t(3),xe=t(5),Oe=t(6),we=function(e){Object(xe.a)(t,e);var n=Object(Oe.a)(t);function t(e,a){var i;return Object(ve.a)(this,t),(i=n.call(this,e,a)).material instanceof P.ShaderMaterial&&(i.material.onBeforeCompile=function(e){var n,t,r;i.material instanceof P.ShaderMaterial&&(i.material.defines.HAS_WAVES=(null!==(n=null===(t=a.waves)||void 0===t?void 0:t.length)&&void 0!==n?n:0)>0,i.material.defines.WAVE_COUNT=null===(r=a.waves)||void 0===r?void 0:r.length,e.uniforms.waves={value:a.waves},e.vertexShader="\n                uniform mat4 textureMatrix;\n                uniform float time;\n\n                varying vec4 mirrorCoord;\n                varying vec4 worldPosition;\n\n                #include <common>\n                #include <fog_pars_vertex>\n                #include <shadowmap_pars_vertex>\n                #include <logdepthbuf_pars_vertex>\n\n                #ifdef HAS_WAVES\n                struct Wave {\n                    float steepness;\n                    float wavelength;\n                    vec2 direction;\n                };\n\n                uniform Wave waves[WAVE_COUNT];\n\n                vec3 gerstnerWave (\n                    Wave wave,\n                    vec3 vertCoords,\n                    inout vec3 binormal,\n                    inout vec3 tangent\n                ) {\n                    float k = 2.0 * PI / wave.wavelength;\n                    float c = sqrt(9.8 / k);\n                    vec2 d = normalize(wave.direction);\n                    float f = k * (dot(d, vertCoords.xz) - c * time);\n                    float a = wave.steepness / k;\n\n                    //vertCoords.x += d.x * (a * cos(f));\n                    //vertCoords.y = a * sin(f);\n                    //vertCoords.z += d.y * (a * cos(f));\n\n                    tangent += vec3(\n                        -d.x * d.x * (wave.steepness * sin(f)),\n                        d.x * (wave.steepness * cos(f)),\n                        -d.x * d.y * (wave.steepness * sin(f))\n                    );\n\n                    binormal += vec3(\n                        -d.x * d.y * (wave.steepness * sin(f)),\n                        d.y * (wave.steepness * cos(f)),\n                        -d.y * d.y * (wave.steepness * sin(f))\n                    );\n\n                    return vec3(\n                        d.x * (a * cos(f)),\n                        a * sin(f),\n                        d.y * (a * cos(f))\n                    );\n                }\n\n                #endif\n\n                void main() {\n                    vec3 pos = vec3(position);\n                    vec3 objectNormal = vec3( normal );\n\n                    #ifdef USE_TANGENT\n                    vec3 objectTangent = vec3( tangent.xyz );\n                    #endif\n\n                    #ifdef HAS_WAVES\n                    vec3 wavesTangent = vec3(\n                    #   ifdef USE_TANGENT\n                        objectTangent\n                    #   else\n                        0.0, 0.0, 0.0\n                    #   endif\n                    );\n\n                    vec3 wavesBinormal = vec3(0.0, 0.0, 0.0);\n\n                    for (int i = 0; i < WAVE_COUNT; i++)\n                        pos += gerstnerWave(waves[i], position, wavesTangent, wavesBinormal);\n\n                    #ifdef USE_TANGENT\n                    objectTangent = wavesTangent;\n                    #endif\n\n                    objectNormal = normalize(cross(wavesBinormal, wavesTangent));\n                    #endif\n\n                    mirrorCoord = modelMatrix * vec4( pos, 1.0 );\n                    worldPosition = mirrorCoord.xyzw;\n                    mirrorCoord = textureMatrix * mirrorCoord;\n\n                    vec4 mvPosition =  modelViewMatrix * vec4( pos, 1.0 );\n                    gl_Position = projectionMatrix * mvPosition;\n\n                    vec3 transformedNormal = objectNormal;\n\n                    #ifdef USE_INSTANCING\n                    mat3 m = mat3( instanceMatrix );\n                    transformedNormal /= vec3( dot( m[ 0 ], m[ 0 ] ), dot( m[ 1 ], m[ 1 ] ), dot( m[ 2 ], m[ 2 ] ) );\n                    transformedNormal = m * transformedNormal;\n                    #endif\n\n                    transformedNormal = normalMatrix * transformedNormal;\n\n                    #ifdef FLIP_SIDED\n                    transformedNormal = - transformedNormal;\n                    #endif\n\n                    #ifdef USE_TANGENT\n                    vec3 transformedTangent = ( modelViewMatrix * vec4( objectTangent, 0.0 ) ).xyz;\n\n                    #   ifdef FLIP_SIDED\n                    transformedTangent = - transformedTangent;\n                    #   endif\n                    #endif\n\n                    #include <logdepthbuf_vertex>\n                    #include <fog_vertex>\n                    #include <shadowmap_vertex>\n                }\n            ")},i.material.customProgramCacheKey=function(){var e,n;return(null!==(e=null===(n=a.waves)||void 0===n?void 0:n.length)&&void 0!==e?e:0).toString()}),i}return t}(t(119).a),ye=["placeholderName","waterNormals"];Object(N.b)({Water3D:we});var Se,ke,_e,De,Ae,Ee,Ve,Ce,Te,Ne,Pe,ze,Me,Le,Re,Fe,Ie,We,Be,He,Ue,Ze,Ge,Xe,Ye={textureWidth:512,textureHeight:512,sunDirection:new P.Vector3,sunColor:11184810,waterColor:22678,distortionScale:3.7,fog:!1,waves:[{direction:new P.Vector2(1,.8),steepness:.1,wavelength:40},{direction:new P.Vector2(1,.6),steepness:.05,wavelength:25},{direction:new P.Vector2(1,1.3),steepness:.025,wavelength:18}]},Je=new P.PlaneGeometry(1e4,1e4,250,250),Ke=function(e){var n=e.placeholderName,t=e.waterNormals,a=Object(m.a)(e,ye),i=Object(r.useRef)(),c=Object(N.e)((function(e){return e.scene})),l=Object(N.d)(P.TextureLoader,null!==t&&void 0!==t?t:he),s=c.getObjectByName(n);console.log(c),Object(r.useLayoutEffect)((function(){return s&&(s.visible=!1),i.current&&s&&(i.current.position.copy(s.position),i.current.rotation.copy(s.rotation),i.current.rotateX(-Math.PI/2)),function(){s&&(s.visible=!0)}}),[s]),l.wrapS=P.RepeatWrapping,l.wrapT=P.RepeatWrapping;var d=Object(r.useMemo)((function(){return Object(h.a)(Object(h.a)(Object(h.a)({},Ye),a),{},{waterNormals:l})}),[a,l]);return Object(N.c)((function(e,n){var t,a;(null===(t=i.current)||void 0===t?void 0:t.material)&&(null===(a=i.current)||void 0===a?void 0:a.material)instanceof P.ShaderMaterial&&(i.current.material.uniforms.time.value+=n)})),Object(M.jsx)(o.a.Fragment,{children:Object(M.jsx)("water3D",{ref:i,args:[Je,d]})})},qe=t(22),Qe=t(41),$e={angleLimitedLights:{}},en=function(e){var n,t,a=e.sceneId,i=e.children,c=Object(N.e)(),l=c.scene,s=c.camera,b=Object(d.d)(),m=Object(d.e)(pe),g=m.isNight,u=m.backgroundEnabled,j=m.freeCameraEnabled,p=m.cameraHeight,f=m.angle,h=m.distance,v=l.getObjectByName("Statek"),x=Object(r.useMemo)((function(){return new P.Vector3(0,0,0)}),[]);!function(e){var n=e.angleLimitedLights,t=Object(N.e)(),a=Object(r.useMemo)((function(){var e=t.scene,a=[],i=Object.keys(n);e.traverse((function(e){var n=i.filter((function(n){return e.name.startsWith(n)}));if(e instanceof P.Mesh&&e.material instanceof P.MeshStandardMaterial&&n.length>0){var t=Object(V.a)(n,1);e.name=t[0],a.push(e)}}));for(var r=0,o=a;r<o.length;r++){var c=o[r],l=n[c.name].angleRelativeTo,s=e.getObjectByName(l);s?c.userData.angleRelativeTo=s:console.warn('AngleRelativeTo: Object with name "'.concat(l,'" not found in the scene'))}return a}),[n,t]);Object(N.c)((function(e){var t,i,r,o=e.camera.getWorldPosition(new P.Vector3),c=Object(qe.a)(a);try{for(c.s();!(t=c.n()).done;){var l,s,d=t.value,b=d.userData.angleRelativeTo,m=n[d.name],g=null!==(l=null===b||void 0===b?void 0:b.getWorldPosition(new P.Vector3).setY(0))&&void 0!==l?l:new P.Vector3(0,0,0),u=(null!==(s=null===b||void 0===b?void 0:b.getWorldDirection(new P.Vector3))&&void 0!==s?s:new P.Vector3(1,0,0)).applyAxisAngle(new P.Vector3(0,1,0),Math.PI/2),j=(i=o.clone().setY(0).sub(g),r=u,Math.atan2(i.x*r.z-i.z*r.x,i.x*r.x+i.z*r.z)),p=Object(Qe.a)(m.minVisibilityAngleDeg),f=Object(Qe.a)(m.maxVisibilityAngleDeg);p<f?p<j&&j<f?d.visible||(d.visible=!0):d.visible&&(d.visible=!1):p<j||j<f?d.visible||(d.visible=!0):d.visible&&(d.visible=!1)}}catch(h){c.e(h)}finally{c.f()}}))}(null!==(n=null===(t=ne.get(a))||void 0===t?void 0:t.lightsDescriptor)&&void 0!==n?n:$e),Object(r.useLayoutEffect)((function(){if(!j){var e;p>60&&b(ae({cameraHeight:60}));var n=null!==(e=null===v||void 0===v?void 0:v.getWorldDirection(new P.Vector3))&&void 0!==e?e:new P.Vector3(1,0,0),t=s.position.length(),a=n.applyAxisAngle(new P.Vector3(0,1,0),f-Math.PI/2).multiplyScalar(t);s.position.copy(a),s.position.y=p,s.position.multiplyScalar(t/s.position.length()),s.position.multiplyScalar(h/s.position.length()),s.lookAt(x)}}),[v,j,f,s,p,x,a,b,h]);var O=Object(r.useCallback)(se()((function(){var e,n=s.position,t=null!==(e=null===v||void 0===v?void 0:v.getWorldDirection(new P.Vector3))&&void 0!==e?e:new P.Vector3(1,0,0);b(ae({angle:new P.Vector3(n.x,0,n.z).angleTo(t)+Math.PI/2,cameraHeight:n.y,distance:n.length()}))}),200),[]);return Object(N.c)((function(){s.position.y<3&&(s.position.y=3)})),Object(M.jsxs)(o.a.Fragment,{children:[i,Object(M.jsx)(ce.b,{depthBuffer:!0,autoClear:!0,disableNormalPass:!0,children:g?Object(M.jsx)(ce.a,{luminanceThreshold:0,luminanceSmoothing:1e-4}):Object(M.jsx)(o.a.Fragment,{})}),g?Object(M.jsx)(o.a.Fragment,{children:u&&Object(M.jsx)(ie.a,{files:[de,be,me,ge,ue,je],background:!0})}):Object(M.jsxs)(o.a.Fragment,{children:[Object(M.jsx)(re.a,{scale:1e4,inclination:.65,rayleigh:.1,mieCoefficient:.02,azimuth:3*Math.PI/2,turbidity:.05}),Object(M.jsx)(Ke,{placeholderName:"Woda",waterColor:"#000000",sunColor:"#222222"}),Object(M.jsx)("ambientLight",{intensity:.4}),Object(M.jsx)("pointLight",{position:[100,100,100]})]}),j&&Object(M.jsx)(oe.a,{target:x,enablePan:!1,enableDamping:!1,rotateSpeed:.9,maxPolarAngle:Math.PI/2,minDistance:40,maxDistance:5200,onChange:O})]})},nn=t(120),tn=["children"],an=function(e){var n=e.children,t=Object(m.a)(e,tn),a=Object(nn.a)(d.b);return Object(M.jsx)(N.a,Object(h.a)(Object(h.a)({},t),{},{children:Object(M.jsx)(a,{children:Object(M.jsx)(d.a,{store:A,children:n})})}))},rn=t(35),on=t(89),cn=t(68),ln=t(61),sn=["checked"],dn=function(e){var n=e.checked,t=Object(m.a)(e,sn);return Object(M.jsx)(ln.a,Object(h.a)(Object(h.a)({active:n,variant:"outline-primary"},t),{},{children:n?Object(M.jsx)(C.a,{}):Object(M.jsx)(C.b,{})}))},bn=Object(s.c)(ln.a)(Se||(Se=Object(i.a)(["\n    font-size: 24px;\n    padding: 2px 8px;\n\n    svg {\n        margin-bottom: 2px;\n    }\n"]))),mn=Object(s.c)(bn)(ke||(ke=Object(i.a)(["\n    &.active, &:hover {\n        background-color: #FFD000;\n        border-color: #FFD000;\n        color: #505050;\n    }\n    border-color: #AF8C00;\n    color: #AF8C00;\n"]))),gn=Object(s.c)(bn)(_e||(_e=Object(i.a)(["\n    &.active, &:hover {\n        background-color: #260072;\n        border-color: #260072;\n    }\n    border-color: #260072;\n    color: #260072;\n"]))),un=s.c.div(De||(De=Object(i.a)(["\n    display: grid;\n    grid-template-columns: 1fr 1fr;\n    grid-row-gap: 8px;\n"]))),jn=function(e){e.sceneId;var n=e.className,t=Object(d.d)(),a=Object(d.e)(pe);return a?Object(M.jsx)(rn.a,{className:n,children:Object(M.jsxs)(un,{children:[Object(M.jsx)(rn.a.Label,{children:"Pora dnia"}),Object(M.jsxs)(on.a,{children:[Object(M.jsx)(mn,{variant:"outline-primary",active:!a.isNight,onClick:function(){a.isNight&&t(ae({isNight:!1}))},title:"Dzie\u0144",children:Object(M.jsx)(cn.b,{})}),Object(M.jsx)(gn,{variant:"outline-primary",active:a.isNight,onClick:function(){a.isNight||t(ae({isNight:!0}))},title:"Noc",children:Object(M.jsx)(cn.a,{})})]}),Object(M.jsx)(rn.a.Label,{htmlFor:"background",children:"Poka\u017c gwiazdy"}),Object(M.jsx)(dn,{onClick:function(){return t(ae({backgroundEnabled:!a.backgroundEnabled}))},checked:a.backgroundEnabled}),Object(M.jsx)(rn.a.Label,{children:"Swobodna kamera"}),Object(M.jsx)(dn,{onClick:function(){return t(ae({freeCameraEnabled:!a.freeCameraEnabled}))},checked:a.freeCameraEnabled}),Object(M.jsx)(rn.a.Label,{children:"K\u0105t do patrz\u0105cego (stopnie)"}),Object(M.jsxs)("div",{children:[Object(M.jsx)(rn.a.Control,{type:"range",min:"0",max:"360",step:"0.1",value:Object(Qe.b)(a.angle),onChange:function(e){return t(ae({angle:Object(Qe.a)(+e.target.value)}))},disabled:a.freeCameraEnabled}),"\xa0",Math.round(Object(Qe.b)(a.angle))-180,"\xb0"]}),Object(M.jsx)(rn.a.Label,{children:"Wysoko\u015b\u0107 kamery"}),Object(M.jsxs)("div",{children:[Object(M.jsx)(rn.a.Control,{type:"range",min:"0",max:"60",step:"0.1",value:a.cameraHeight,onChange:function(e){return t(ae({cameraHeight:+e.target.value}))},disabled:a.freeCameraEnabled}),"\xa0",Math.round(a.cameraHeight),"m"]}),Object(M.jsx)(rn.a.Label,{children:"Odleg\u0142o\u015b\u0107"}),Object(M.jsxs)("div",{children:[Object(M.jsx)(rn.a.Control,{type:"range",min:"65",max:"600",step:"1",value:a.distance,onChange:function(e){return t(ae({distance:+e.target.value}))},disabled:a.freeCameraEnabled}),"\xa0",Math.round(a.distance),"m"]})]})}):null},pn=t(121),fn=s.c.div(Ae||(Ae=Object(i.a)(["\n    width: 100vw;\n    height: 100vh;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    background-color: black;\n\n    position: relative;\n"]))),hn=s.c.div(Ee||(Ee=Object(i.a)(["\n    color: white;\n    padding: 12px 18px;\n    font-size: 32px;\n    display: flex;\n    justify-content: flex-end;\n    cursor: pointer;\n\n    transition: all 0.2s ease-in-out;\n"]))),vn=s.c.div(Ve||(Ve=Object(i.a)(["\n    position: absolute;\n    right: 0;\n    top: 0;\n    z-index: 2;\n\n    transition: transform 0.2s ease-in-out;\n\n    "," {\n        height: ","px;\n    }\n\n    ","\n"])),hn,(function(e){return e.handleHeight}),(function(e){var n=e.open,t=e.handleHeight;return!n&&Object(s.b)(Ce||(Ce=Object(i.a)(["\n        transform: translateY(calc(-100% + ","px));\n    "])),t)})),xn=Object(s.c)(jn)(Te||(Te=Object(i.a)(["\n    padding: 12px 18px;\n    background: white;\n    border-bottom-left-radius: 3px;\n"]))),On=(Object(s.c)(pn.a)(Ne||(Ne=Object(i.a)(["\n    background: black;\n    /* padding: 12px; */\n"]))),t(122)),wn=s.c.div(Pe||(Pe=Object(i.a)(["\n    display: flex;\n    flex-flow: column nowrap;\n"]))),yn=s.c.div(ze||(ze=Object(i.a)(["\n    width: 100%;\n    color: white;\n    margin-top: 20px;\n    text-align: center;\n"]))),Sn=s.c.div(Me||(Me=Object(i.a)(["\n    display: grid;\n    grid-template-columns: repeat(4, 1fr);\n    grid-template-rows: repeat(4, 1fr);\n    grid-gap: 1px;\n\n    width: 100px;\n    height: 100px;\n\n    /* width: 100%; */\n"]))),kn=s.c.div(Le||(Le=Object(i.a)(["\n    background: transparent;\n    color:white;\n\n    animation: fade 2s infinite;\n    animation-delay: ",";\n\n    @keyframes fade {\n        0% {\n            background: transparent;\n        }\n        25% {\n            background: white;\n        }\n        50%, 100% {\n            background: transparent;\n        }\n    }\n"])),(function(e){return e.delay})),_n=function(e){var n=e.children;return Object(M.jsxs)(wn,{children:[Object(M.jsx)(Sn,{children:new Array(16).fill(0).map((function(e,n){return Object(M.jsx)(kn,{delay:"".concat(140*(n%4+Math.floor(n/4)),"ms")},n)}))}),Object(M.jsx)(yn,{children:null!==n&&void 0!==n?n:"\u0141adowanie..."})]})},Dn=t(92),An=function(){var e=Object(On.a)(),n=e.active,t=e.progress;return Object(M.jsx)(pn.a,{center:!0,children:Object(M.jsxs)(_n,{children:["\u0141adowanie...",Object(M.jsx)("br",{}),n&&Object(M.jsxs)(o.a.Fragment,{children:[t.toFixed(0),"%",Object(M.jsx)(Dn.a,{now:t})]})]})})},En=function(){var e,n,t=Object(E.h)().id,a=Object(r.useState)(!1),i=Object(V.a)(a,2),c=i[0],l=i[1],s=Object(d.d)(),b=new URLSearchParams(Object(E.g)().search);if(Object(r.useEffect)((function(){t&&ne.has(t)&&b.has("set")&&s(te(ne.get(t)))}),[s,t]),!t||!ne.has(t))return Object(M.jsx)(E.a,{to:"/"});var m=null!==(e=null===(n=ne.get(t))||void 0===n?void 0:n.component)&&void 0!==e?e:o.a.Fragment;return Object(M.jsxs)(fn,{children:[!b.has("noControls")&&Object(M.jsxs)(vn,{open:c,handleHeight:40,children:[Object(M.jsx)(xn,{sceneId:t}),Object(M.jsx)(hn,{onClick:function(){return l((function(e){return!e}))},title:"Ustawienia sceny",children:Object(M.jsx)(C.c,{})})]}),Object(M.jsx)(an,{camera:{position:[140,26,-262],aspect:70,near:.01,far:1e5},gl:{logarithmicDepthBuffer:!0},children:Object(M.jsx)(r.Suspense,{fallback:Object(M.jsx)(An,{}),children:Object(M.jsx)(en,{sceneId:t,children:Object(M.jsx)(m,{})})})})]})},Vn=t(46),Cn=t(91),Tn=t(29),Nn=["title","titleId"];function Pn(){return Pn=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])}return e},Pn.apply(this,arguments)}function zn(e,n){if(null==e)return{};var t,a,i=function(e,n){if(null==e)return{};var t,a,i={},r=Object.keys(e);for(a=0;a<r.length;a++)t=r[a],n.indexOf(t)>=0||(i[t]=e[t]);return i}(e,n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(a=0;a<r.length;a++)t=r[a],n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(i[t]=e[t])}return i}function Mn(e,n){var t=e.title,a=e.titleId,i=zn(e,Nn);return r.createElement("svg",Pn({id:"b21613c9-2bf0-4d37-bef0-3b193d34fc5d","data-name":"Layer 1",xmlns:"http://www.w3.org/2000/svg",width:647.63626,height:632.17383,viewBox:"0 0 647.63626 632.17383",ref:n,"aria-labelledby":a},i),t?r.createElement("title",{id:a},t):null,Re||(Re=r.createElement("path",{d:"M687.3279,276.08691H512.81813a15.01828,15.01828,0,0,0-15,15v387.85l-2,.61005-42.81006,13.11a8.00676,8.00676,0,0,1-9.98974-5.31L315.678,271.39691a8.00313,8.00313,0,0,1,5.31006-9.99l65.97022-20.2,191.25-58.54,65.96972-20.2a7.98927,7.98927,0,0,1,9.99024,5.3l32.5498,106.32Z",transform:"translate(-276.18187 -133.91309)",fill:"#f2f2f2"})),Fe||(Fe=r.createElement("path",{d:"M725.408,274.08691l-39.23-128.14a16.99368,16.99368,0,0,0-21.23-11.28l-92.75,28.39L380.95827,221.60693l-92.75,28.4a17.0152,17.0152,0,0,0-11.28028,21.23l134.08008,437.93a17.02661,17.02661,0,0,0,16.26026,12.03,16.78926,16.78926,0,0,0,4.96972-.75l63.58008-19.46,2-.62v-2.09l-2,.61-64.16992,19.65a15.01489,15.01489,0,0,1-18.73-9.95l-134.06983-437.94a14.97935,14.97935,0,0,1,9.94971-18.73l92.75-28.4,191.24024-58.54,92.75-28.4a15.15551,15.15551,0,0,1,4.40966-.66,15.01461,15.01461,0,0,1,14.32032,10.61l39.0498,127.56.62012,2h2.08008Z",transform:"translate(-276.18187 -133.91309)",fill:"#3f3d56"})),Ie||(Ie=r.createElement("path",{d:"M398.86279,261.73389a9.0157,9.0157,0,0,1-8.61133-6.3667l-12.88037-42.07178a8.99884,8.99884,0,0,1,5.9712-11.24023l175.939-53.86377a9.00867,9.00867,0,0,1,11.24072,5.9707l12.88037,42.07227a9.01029,9.01029,0,0,1-5.9707,11.24072L401.49219,261.33887A8.976,8.976,0,0,1,398.86279,261.73389Z",transform:"translate(-276.18187 -133.91309)",fill:"#666"})),We||(We=r.createElement("circle",{cx:190.15351,cy:24.95465,r:20,fill:"#666"})),Be||(Be=r.createElement("circle",{cx:190.15351,cy:24.95465,r:12.66462,fill:"#fff"})),He||(He=r.createElement("path",{d:"M878.81836,716.08691h-338a8.50981,8.50981,0,0,1-8.5-8.5v-405a8.50951,8.50951,0,0,1,8.5-8.5h338a8.50982,8.50982,0,0,1,8.5,8.5v405A8.51013,8.51013,0,0,1,878.81836,716.08691Z",transform:"translate(-276.18187 -133.91309)",fill:"#e6e6e6"})),Ue||(Ue=r.createElement("path",{d:"M723.31813,274.08691h-210.5a17.02411,17.02411,0,0,0-17,17v407.8l2-.61v-407.19a15.01828,15.01828,0,0,1,15-15H723.93825Zm183.5,0h-394a17.02411,17.02411,0,0,0-17,17v458a17.0241,17.0241,0,0,0,17,17h394a17.0241,17.0241,0,0,0,17-17v-458A17.02411,17.02411,0,0,0,906.81813,274.08691Zm15,475a15.01828,15.01828,0,0,1-15,15h-394a15.01828,15.01828,0,0,1-15-15v-458a15.01828,15.01828,0,0,1,15-15h394a15.01828,15.01828,0,0,1,15,15Z",transform:"translate(-276.18187 -133.91309)",fill:"#3f3d56"})),Ze||(Ze=r.createElement("path",{d:"M801.81836,318.08691h-184a9.01015,9.01015,0,0,1-9-9v-44a9.01016,9.01016,0,0,1,9-9h184a9.01016,9.01016,0,0,1,9,9v44A9.01015,9.01015,0,0,1,801.81836,318.08691Z",transform:"translate(-276.18187 -133.91309)",fill:"#666"})),Ge||(Ge=r.createElement("circle",{cx:433.63626,cy:105.17383,r:20,fill:"#666"})),Xe||(Xe=r.createElement("circle",{cx:433.63626,cy:105.17383,r:12.18187,fill:"#fff"})))}var Ln,Rn,Fn,In,Wn,Bn,Hn,Un,Zn,Gn,Xn,Yn,Jn,Kn=r.forwardRef(Mn),qn=(t.p,t(90)),Qn=Object(s.c)(qn.a)(Ln||(Ln=Object(i.a)(["\n    color: inherit;\n    text-decoration: inherit;\n"]))),$n=s.c.div(Rn||(Rn=Object(i.a)(["\n    padding: 12px 24px;\n    max-width: 1400px;\n    margin: 0 auto;\n"]))),et=s.c.header(Fn||(Fn=Object(i.a)(["\n    font-size: 24px;\n    text-align: center;\n    margin-bottom: 32px;\n"]))),nt=s.c.input(In||(In=Object(i.a)(["\n    padding: 8px 12px;\n    width: 90%;\n    border: 1px solid transparent;\n    border-bottom: 2px solid #777;\n"]))),tt=s.c.div(Wn||(Wn=Object(i.a)(["\n    display: flex;\n    flex-flow: row wrap;\n    justify-content: center;\n\n    > * {\n        width: 300px;\n        margin-right: 16px;\n        margin-bottom: 16px;\n    }\n"]))),at=s.c.div(Bn||(Bn=Object(i.a)(["\n    width: 100%;\n    display: flex;\n    flex-flow: column nowrap;\n    align-items: center;\n    margin-top: 32px;\n    text-align: center;\n    color: #888;\n"]))),it=Object(s.c)(Kn)(Hn||(Hn=Object(i.a)(["\n    max-width: 200px;\n    max-height: 200px;\n    margin-bottom: 21px;\n    margin-right: 14px;\n"]))),rt=Object(s.c)(Vn.a.Body)(Un||(Un=Object(i.a)(["\n    display: flex;\n    flex-flow: row nowrap;\n    min-height: 130px;\n\n    .card-text {\n        margin-bottom: 0;\n    }\n"]))),ot=Object(s.c)(Qn)(Zn||(Zn=Object(i.a)(["\n    position: absolute;\n    z-index: 1;\n    top: 0;\n    left: 0;\n    right: 0;\n    bottom: 0;\n"]))),ct=s.c.div(Gn||(Gn=Object(i.a)(["\n    .card {\n        position: relative;\n        height: 100%;\n        max-height: 400px;\n\n        &:hover {\n            color: #0a58ca;\n        }\n\n        a:not(",") {\n            z-index: 3;\n        }\n\n        img {\n            object-fit: contain;\n            background: black;\n            height: 100%;\n        }\n    }\n"])),ot),lt=s.c.a(Xn||(Xn=Object(i.a)(["\n    font-size: 24px;\n    color: initial;\n    margin-left: 8px;\n\n    display: flex;\n    align-items: center;\n    cursor: pointer;\n"]))),st=function(){var e=Object(r.useState)(""),n=Object(V.a)(e,2),t=n[0],a=n[1],i=Object(d.d)(),o=Object(r.useRef)(null),c=Object(r.useCallback)((function(e){"Escape"===e.key&&o.current===document.activeElement&&a("")}),[]);Object(r.useEffect)((function(){return window.addEventListener("keydown",c),function(){window.removeEventListener("keydown",c)}}),[c]);var l,s,b=function(e){return function(n){n.preventDefault(),ne.has(e)&&(i(te(ne.get(e))),window.open("/scene/".concat(e,"?noControls"),"scene","height=".concat(screen.availHeight,",width=").concat(screen.availWidth,",fullscreen=yes,toolbar=no,menubar=no,scrollbars=no,resizable=yes,location=no,directories=no,status=no")),i(Object(Tn.d)("/controls")))}};return Object(M.jsxs)($n,{children:[Object(M.jsx)(et,{children:Object(M.jsx)(nt,{ref:o,type:"text",placeholder:"Szukaj...",value:t,onChange:function(e){return a(e.target.value)}})}),Object(M.jsx)(tt,{children:(l=Array.from(ne.values()).filter((function(e){return e.name.toLowerCase().includes(t.trim().toLowerCase())})).map((function(e){var n=e.name,t=e.id,a=e.iconPath;return Object(M.jsx)(ct,{children:Object(M.jsxs)(Vn.a,{children:[Object(M.jsx)(ot,{to:"/scene/".concat(t)}),Object(M.jsx)(Vn.a.Img,{variant:"top",src:a}),Object(M.jsxs)(rt,{children:[Object(M.jsx)(Vn.a.Text,{children:n}),Object(M.jsx)(lt,{title:"Otw\xf3rz w nowym oknie",onClick:b(t),children:Object(M.jsx)(Cn.a,{})})]})]})},t)})),s=Object(M.jsxs)(at,{children:[Object(M.jsx)(it,{}),Object(M.jsx)("h2",{children:"Pusto"})]}),l.length>0?l:s)})]})},dt=s.c.div(Yn||(Yn=Object(i.a)(["\n    padding: 12px 24px;\n    max-width: 700px;\n    margin: 0 auto;\n"]))),bt=function(){var e=Object(d.e)(fe);return e?Object(M.jsxs)(dt,{children:[Object(M.jsx)("h3",{children:e.name}),Object(M.jsx)(jn,{sceneId:e.id})]}):Object(M.jsx)(E.a,{to:"/"})},mt=function(){return Object(M.jsx)(f.a,{history:_,children:Object(M.jsxs)(E.d,{children:[Object(M.jsx)(E.b,{path:"/controls",component:bt}),Object(M.jsx)(E.b,{path:"/scene/:id",component:En}),Object(M.jsx)(E.b,{path:"/",component:st})]})})},gt=Object(s.a)(Jn||(Jn=Object(i.a)(["\n    *, *::after, *::before {\n        box-sizing: border-box;\n    }\n\n    body {\n        margin: 0;\n        font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', 'Oxygen',\n        'Ubuntu', 'Cantarell', 'Fira Sans', 'Droid Sans', 'Helvetica Neue',\n        sans-serif;\n        -webkit-font-smoothing: antialiased;\n        -moz-osx-font-smoothing: grayscale;\n    }\n\n    code {\n        font-family: source-code-pro, Menlo, Monaco, Consolas, 'Courier New',\n        monospace;\n    }\n"])));l.a.render(Object(M.jsx)(o.a.StrictMode,{children:Object(M.jsxs)(d.a,{store:A,children:[Object(M.jsx)(gt,{}),Object(M.jsx)(mt,{})]})}),document.getElementById("root")),b()},79:function(e,n){}},[[116,1,2]]]);
//# sourceMappingURL=main.6cfd2929.chunk.js.map